/**
 * 競り合い関連の設定を一元管理するファイル
 * キャラクター同士のサークル重なりと押し返しに関する定数を提供
 */

/**
 * 競り合い設定
 */
export const CONTEST_CONFIG = {
  // ==========================================================================
  // 重なり許容設定
  // ==========================================================================

  /**
   * 許容する重なり量（メートル）
   * この範囲内の重なりは押し返し処理をしない
   * 例: 0.05 = 5cm以内の重なりは許容
   */
  OVERLAP_TOLERANCE: 0.05,

  /**
   * 重なり解消判定のマージン（メートル）
   * 押し返し完了の判定に使用
   */
  OVERLAP_MARGIN: 0.01,

  // ==========================================================================
  // 押し出し速度設定
  // ==========================================================================

  /**
   * 基本押し出し速度（m/s）
   * ステータスが同等の場合の押し出し速度
   */
  PUSH_SPEED_BASE: 1.0,

  /**
   * 最大押し出し速度（m/s）
   * ステータス差が大きくてもこれ以上にはならない
   */
  PUSH_SPEED_MAX: 2.0,

  /**
   * 重なり量に応じた押し出し速度倍率
   * 重なりが大きいほど速く押し返す
   * 例: 2.0 = 重なり1mで2倍速
   */
  OVERLAP_SPEED_MULTIPLIER: 2.0,

  // ==========================================================================
  // パラメーター影響設定
  // ==========================================================================

  /**
   * ステータス差による押し出し速度増加率
   * ステータス差1あたりの速度増加（m/s）
   */
  STAT_DIFF_MULTIPLIER: 0.01,

  /**
   * 同等ステータス時のお互いの押し出し比率
   * 0.5 = 両者が同じ量だけ押される
   */
  EQUAL_STAT_PUSH_RATIO: 0.5,

  /**
   * 最大押し出し比率
   * 強い側が弱い側を押す最大比率
   * 例: 0.9 = 弱い側は最大90%押される
   */
  MAX_PUSH_RATIO: 0.9,

  /**
   * 最小押し出し比率
   * 強い側でも最低限押される比率
   * 例: 0.1 = 強い側でも最低10%は押される
   */
  MIN_PUSH_RATIO: 0.1,

  // ==========================================================================
  // 使用するステータス設定
  // ==========================================================================

  /**
   * オフェンス側（ボール保持者）が使用するステータス
   * 'offense' | 'power' | 'speed'
   */
  OFFENSE_STAT: 'offense' as const,

  /**
   * ディフェンス側（ボール非保持者）が使用するステータス
   * 'defense' | 'power' | 'speed'
   */
  DEFENSE_STAT: 'defense' as const,

} as const;

/**
 * ステータスタイプ
 */
export type ContestStatType = 'offense' | 'defense' | 'power' | 'speed';
